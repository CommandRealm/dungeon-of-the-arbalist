##Called to give us a compass

clear @s compass
kill @e[type=item,nbt={Item:{id:"minecraft:compass"}},distance=..10]



##getting compass
item replace entity @s hotbar.8 with compass{LodestoneTracked:0b,LodestoneDimension:"minecraft:overworld",LodestonePos:{X:2000, Y:66, Z:0},display:{Name:'[{"text":"[","color":"dark_gray","bold":true,"italic":false},{"text":"☠","color":"dark_red","bold":false},{"text":"] ","color":"dark_gray","bold":true},{"text":"Boss ","bold":false,"color":"#ab0909"},{"text":"Room","bold":false,"color":"#5a4f4f"}]'}}
item replace entity @s[tag=north_compass] hotbar.8 with compass{LodestoneTracked:0b,LodestoneDimension:"minecraft:overworld",LodestonePos:{X:0, Y:66, Z:-50000},display:{Name:'[{"text":"[","color":"dark_gray","bold":true,"italic":false},{"text":"☠","color":"dark_red","bold":false},{"text":"] ","color":"dark_gray","bold":true},{"text":"North","bold":false,"color":"green"}]'}}

execute if score $mode settings matches 1 if score @s objective matches 0 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Find the Pink Key.","color":"gray"}]'},LodestonePos:{X:4963,Y:100,Z:54},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 1 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Open the Pink Door.","color":"gray"}]'},LodestonePos:{X:5007,Y:89,Z:23},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 2 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Find the Blue Key.","color":"gray"}]'},LodestonePos:{X:5135,Y:88,Z:13},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 3 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Open the Blue Door.","color":"gray"}]'},LodestonePos:{X:4984,Y:79,Z:37},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 4 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the Boss Room.","color":"gray"}]'},LodestonePos:{X:4984,Y:79,Z:62},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 5 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Defeat the boss.","color":"gray"}]'},LodestonePos:{X:4984,Y:79,Z:75},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 1 if score @s objective matches 6 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the portal.","color":"gray"}]'},LodestonePos:{X:4978,Y:78,Z:67},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}

execute if score $mode settings matches 2 if score @s objective matches 0 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the castle.","color":"gray"}]'},LodestonePos:{X:3022,Y:77,Z:101},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 1 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Kill the Cobalt King.","color":"gray"}]'},LodestonePos:{X:3089,Y:92,Z:175},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 2 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Obtain the Crypt Key.","color":"gray"}]'},LodestonePos:{X:3081,Y:45,Z:154},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 3 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the Crypt.","color":"gray"}]'},LodestonePos:{X:3160,Y:72,Z:191},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 4 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the Boss Room.","color":"gray"}]'},LodestonePos:{X:3160,Y:59,Z:213},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 5 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Defeat the boss.","color":"gray"}]'},LodestonePos:{X:3160,Y:53,Z:261},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}
execute if score $mode settings matches 2 if score @s objective matches 6 run item replace entity @s hotbar.8 with compass{display:{Name:'[{"text":"","italic":false},{"text":"Objective","color":"dark_purple","bold":true},{"text":": ","color":"gray"},{"text":"Enter the portal.","color":"gray"}]'},LodestonePos:{X:3160,Y:53,Z:261},LodestoneDimension:"minecraft:overworld",LodestoneTracked:0b}


execute if entity @s[scores={drop_compass=1..}] run scoreboard players set @s vote_end 1
scoreboard players reset @s drop_compass